rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
#rm(list = ls())                 # Clear variables
#while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
# Load the helper script
source("DT_Algorithm.R")  # Ensure this file is in the same directory
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer()
)
for (i in 1:2) {
obs_gen_para <- read.csv(paste0("pattern/CSR0/obs_info_all_0_", i, ".csv"))
#obs_gen_para <- c(gamma = 0.3, d = 5, noPoints = 50)
result <- DT_Alg(obs_gen_para)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state)
)
}
View(results_DT)
# Vector of numbers you want to generate scripts for
numbers <- seq(15, 50, by = 5)
# Read the original script
original_script <- readLines("main_script10.R")
for (num in numbers) {
# Make a copy of the script
new_script <- original_script
# Replace patterns carefully
new_script <- gsub("script10", paste0("script", num), new_script)
new_script <- gsub("DT10_Alg", paste0("DT", num, "Alg"), new_script)
new_script <- gsub("results_DT10_0.txt", paste0("results_DT", num, "_0.txt"), new_script)
# Add more replacements if needed
# e.g., "DT10_1" -> "DT15_1" etc.
# Write to new file
writeLines(new_script, paste0("main_script", num, ".R"))
}
# Vector of numbers you want to generate scripts for
numbers <- seq(15, 50, by = 5)
# Read the original script
original_script <- readLines("main_script10.R")
for (num in numbers) {
# Make a copy of the script
new_script <- original_script
# Replace patterns carefully
new_script <- gsub("script10", paste0("script", num), new_script)
new_script <- gsub("DT10_Alg", paste0("DT", num, "_Alg"), new_script)
new_script <- gsub("results_DT10_0.txt", paste0("results_DT", num, "_0.txt"), new_script)
# Add more replacements if needed
# e.g., "DT10_1" -> "DT15_1" etc.
# Write to new file
writeLines(new_script, paste0("main_script", num, ".R"))
}
# Vector of numbers you want to generate scripts for
rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
############
#0.75
##### Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.75
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/CSR0.5/obs_info_all_0.5_",
paste0("pattern/CSR", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.5.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
############
#1
##### Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 1
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/CSR0.75/obs_info_all_0.75_",
paste0("pattern/CSR", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.75.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.25
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/TM1/obs_info_all_1_",
paste0("pattern/TM", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_1.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.25
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/TM0.25/obs_info_all_0.25_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.25.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.25/obs_info_all_0.25_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.25.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.25
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0/obs_info_all_0_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.5
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.25/obs_info_all_0.25_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.25.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.75
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.5/obs_info_all_0.5_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.5.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 1
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.75/obs_info_all_0.75_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.75.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
